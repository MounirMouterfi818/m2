version: 2

jobs:
  test-java:
    docker:
      - image: cimg/openjdk:8.0 # Environnement Java 8, vous pouvez utiliser 11.0 si nécessaire
    steps:
      - checkout # Récupère le code source du repository

      - run:
          name: Run Maven Tests
          command: mvn test # Exécute les tests unitaires avec Maven

workflows:
  version: 2
  build-and-test:
    jobs:
      - test-java:
          filters:
            branches:
              only:
                - master # Exécute uniquement sur la branche master
